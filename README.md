# TypeScript CSV File Reader

This is a reusable csv file reader which can be customized for every CSV file.

## Simple Usage

```TypeScript
/*** Simple Usage ***/

// Providing the file reader and passing it to the CustomCSVStreamReader.
const lineByLineReader = LineByLineReader.createStream('./resources/file.csv');
const customCSVStreamReader = new CustomCSVStreamReader(lineByLineReader);

// Reading the data;
let record: MyCustomRecord | false; // This is the custom type of our object generated by the programmer
while (record = customCSVStreamReader.next()) {
  console.log(record);
}

/*
output:
{ grade: 1, playerId: 'BYCYR', score: 19923 }
{ grade: 2, playerId: '6T42O', score: 19880 }
{ grade: 3, playerId: '3NKuC', score: 19840 }
{ grade: 4, playerId: 'tY0M0', score: 19835 }
{ grade: 5, playerId: '0RMgu', score: 19823 }
{ grade: 6, playerId: '0LssH', score: 19813 }
...
*/
```

## Customization

For customizing the csv reader, simply open the `CustomCSVStreamReader.ts` file and change the `covert` method.

```TypeScript
// Simply Change this code to use the CSV File reader to use it with your own csv file.
export type MyCustomRecord = {
  grade: number;
  playerId: string;
  score: number;
}

export class CustomCSVStreamReader extends CSVStreamReader<MyCustomRecord> {
  // overriding the abstract method of 'CSVStreamReader' class
  // this method specifies the way of converting a record to out custom type
  protected convert(line: string): MyCustomRecord {
    let result: MyCustomRecord = {
      grade: 0,
      playerId: '0',
      score: 0,
    };

    line.split(',').map((val: string, index: number) => {
      switch (index) {
        case 0: return result.grade = Number(val);
        case 1: return result.playerId = val;
        case 2: return result.score = Number(val);
      }
    });

    return result;
  }
}
```

## Run

You should have `npm` and `typescript` installed on your system to run this code.

If you need some help to install them, just checkout links below:

- [Download and install npm](https://www.npmjs.com/get-npm)
- [Download and install TypeScript](https://www.typescriptlang.org/download)

Then in the project directory, simply run the command below to install the project dependencies:

```shell
npm install
```

After that you can start the project simply by running the commands below:

1. Build the project (Compile it to `JavaScript`)

   ```shell
   npm run start:build
   ```

   This will also check for changes and recompile the code if there were any changes in the source code (checkout the `package.json` file).

2. Start the project (Run the `JavaScript` code)
   ```shell
   npm start:build
   ```
   Run this command in a new terminal window.
   This command will re-run the code every time the code is recompiled.

To stop the running command in recent two steps, Simply press `Ctrl + C` keys inside the terminal.
